<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <title>{NAME}</title>
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js">
    </script>
    <script src="https://unpkg.com/jquery/dist/jquery.min.js">
    </script>
    <script>
    {JAVASCRIPT}
    </script>
</head>

<body>
    <ons-splitter>
        <ons-splitter-side id="menu" side="left" width="220px" collapse swipeable>
            <ons-page>
                <ons-list>
                    <ons-list-item onclick="fn.load('home.html')" tappable> Home </ons-list-item>
                    <ons-list-item onclick="fn.load('settings.html')" tappable> Settings </ons-list-item>
                    <ons-list-item onclick="fn.load('about.html')" tappable> About </ons-list-item>
                </ons-list>
            </ons-page>
        </ons-splitter-side>
        <ons-splitter-content id="content" page="home.html">
        </ons-splitter-content>
    </ons-splitter>
    <template id="home.html">
        <ons-page>
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="fn.open()">
                        <ons-icon icon="md-menu">
                        </ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">{NAME}</div>
            </ons-toolbar>
            <ons-card>
                <div class="title">Adjust position</div>
                <div class="content">
                    <p>Move the slider to the wanted position or use the arrows to open/close to the max positions</p>
                </div>
                <ons-row>
                    <ons-col width="40px" style="text-align: center; line-height: 31px;">
                    </ons-col>
                    <ons-col>
                        <ons-progress-bar id="pbar" value="75">
                        </ons-progress-bar>
                    </ons-col>
                    <ons-col width="40px" style="text-align: center; line-height: 31px;">
                    </ons-col>
                </ons-row>
                <ons-row>
                    <ons-col width="40px" style="text-align: center; line-height: 31px;">
                        <ons-icon id="arrow-open" icon="fa-arrow-up" size="2x">
                        </ons-icon>
                    </ons-col>
                    <ons-col>
                        <ons-range id="setrange" style="width: 100%;" value="25">
                        </ons-range>
                    </ons-col>
                    <ons-col width="40px" style="text-align: center; line-height: 31px;">
                        <ons-icon id="arrow-close" icon="fa-arrow-down" size="2x">
                        </ons-icon>
                    </ons-col>
                </ons-row>
            </ons-card>
            <ons-card id="update-card" style="display:none">
                <div class="title">Update available</div>
                <div class="content">You are running
                    <span id="cversion">
                    </span> and
                    <span id="nversion">
                    </span> is the latest. Go to
                    <a href="https://github.com/xurban42/esp8266blinds/releases">the repo</a> to download</div>
            </ons-card>
        </ons-page>
    </template>
    <template id="settings.html">
        <ons-page>
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="fn.open()">
                        <ons-icon icon="md-menu">
                        </ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center"> Settings </div>
            </ons-toolbar>
            <ons-card>
                <div class="title">Instructions</div>
                <div class="content">
                    <p>
                        <ol>
                            <li>Use the arrows and stop button to navigate to the top position i.e. the blind is opened</li>
                            <li>Click the START button</li>
                            <li>Use the down arrow to navigate to the max closed position</li>
                            <li>Click the MAX button</li>
                            <li>Calibration is completed!</li>
                        </ol>
                    </p>
                </div>
            </ons-card>
            <ons-card>
                <div class="title">Control</div>
                <ons-row style="width:100%">
                    <ons-col style="text-align:center">
                        <ons-icon id="arrow-up-man" icon="fa-arrow-up" size="2x">
                        </ons-icon>
                    </ons-col>
                    <ons-col style="text-align:center">
                        <ons-icon id="arrow-stop-man" icon="fa-stop" size="2x">
                        </ons-icon>
                    </ons-col>
                    <ons-col style="text-align:center">
                        <ons-icon id="arrow-down-man" icon="fa-arrow-down" size="2x">
                        </ons-icon>
                    </ons-col>
                </ons-row>
            </ons-card>
            <ons-card>
                <div class="title">Store</div>
                <ons-row style="width:100%">
                    <ons-col style="text-align:center">
                        <ons-button id="set-start">Set Start</ons-button>
                    </ons-col>
                    <ons-col style="text-align:center">&nbsp;</ons-col>
                    <ons-col style="text-align:center">
                        <ons-button id="set-max">Set Max</ons-button>
                    </ons-col>
                </ons-row>
            </ons-card>
        </ons-page>
    </template>
    <template id="about.html">
        <ons-page>
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="fn.open()">
                        <ons-icon icon="md-menu">
                        </ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center"> About </div>
            </ons-toolbar>
            <ons-card>
                <div class="title">Motor on a roller blind (ws/http)</div>
                <div class="content">
                    <p>
                        <ul>
                            <li>3d print files and instructions:
                                <a href="https://www.thingiverse.com/thing:2392856">https://www.thingiverse.com/thing:2392856</a>
                            </li>
                            <li>Http and ws project:
                                <a href="https://github.com/xurban42/esp8266blinds">https://github.com/xurban42/esp8266blinds</a>
                            </li>
                            <li>Based on mqqt and ws project:
                                <a href="https://github.com/nidayand/motor-on-roller-blind-ws">https://github.com/nidayand/motor-on-roller-blind-ws</a>
                            </li>
                            <li>Licensed unnder
                                <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons</a>
                            </li>
                        </ul>
                    </p>
                </div>
            </ons-card>
        </ons-page>
    </template>
</body>
</html>